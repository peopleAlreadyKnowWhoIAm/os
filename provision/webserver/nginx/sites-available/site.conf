server {
    listen 80 default_server;
    listen [::]:80 default_server;
    server_name store.com www.store.com;

    return 301 https://www.store.com$request_uri;
}

server{
    listen 443 ssl http2 default_server;
    listen [::]:443 ssl http2 default_server;

    server_name store.com www.store.com;

    include snippets/self-signed.conf;
    include snippets/ssl-params.conf;

    root /home/webroot;

    index index.php;

    server_name opencart;

    location / {
        try_files $uri $uri/ =404;
    }

  # pass PHP scripts on Nginx to FastCGI (PHP-FPM) server
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;

    # Nginx php-fpm sock config:
        fastcgi_pass unix:/run/php/php8.1-fpm.sock;
    # Nginx php-cgi config :
    # Nginx PHP fastcgi_pass 127.0.0.1:9000;
    }

  # deny access to Apache .htaccess on Nginx with PHP, 
  # if Apache and Nginx document roots concur
      location ~ /\.ht {
        deny all;
    }
} # End of PHP FPM Nginx config example

